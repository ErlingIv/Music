<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title data-i18n="doc_title">Erling’s Music Collections</title>
  <meta name="description" content="Links and notes for historical music spreadsheets and projects." />
  <style>
    :root { --bg:#f7f8fb; --fg:#111418; --muted:#4b5563; --card:#ffffff; --brand:#1f4bff; --border:#e6e8ef; }
    * { box-sizing: border-box; }
    body { margin: 0; font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji"; background: var(--bg); color: var(--fg); }
    header { position: sticky; top: 0; backdrop-filter: blur(8px); background: rgba(247,248,251,.9); border-bottom: 1px solid var(--border); z-index: 10; }
    .wrap { max-width: 1100px; margin: 0 auto; padding: 1rem; }
    nav { display: flex; align-items: center; gap: .75rem; justify-content: space-between; }
    .brand { font-weight: 700; letter-spacing:.3px; }
    .navlinks a { color: var(--muted); text-decoration: none; margin: 0 .25rem; padding:.4rem .6rem; border-radius:.6rem; }
    .navlinks a:hover { background: var(--card); color: var(--fg); }
    .btn { border: 1px solid var(--border); background: var(--card); color: var(--fg); padding: .4rem .7rem; border-radius: .6rem; cursor: pointer; }
    .hero { padding: 3.5rem 1rem 2rem; text-align: center; border-bottom:1px solid var(--border); background: linear-gradient(180deg, rgba(31,75,255,.08), transparent 45%); }
    h1 { font-size: clamp(1.8rem, 3.5vw, 3rem); margin: 0 0 .5rem; }
    .sub { color: var(--muted); max-width: 70ch; margin: 0 auto 1rem; }
    .cta { display:inline-flex; gap:.6rem; align-items:center; border:1px solid var(--border); background: var(--card); padding:.6rem .9rem; border-radius:.8rem; text-decoration:none; color: var(--fg); }
    .grid { display: grid; grid-template-columns: repeat(12, 1fr); gap: 1rem; }
    .section { padding: 2rem 0; }
    .card { grid-column: span 12; border:1px solid var(--border); background: var(--card); border-radius:1rem; overflow: clip; }
    @media (min-width: 768px) { .card { grid-column: span 6; } }
    .card > header { position: static; background: none; border-bottom: 1px solid var(--border); }
    .card h2 { margin:.2rem 0; font-size:1.1rem; }
    .card .body { padding: 1rem; }
    .card p { margin:.3rem 0 .8rem; color: var(--muted); }
    .card a { color: var(--brand); text-decoration: none; }
    .iframe-wrap { position: relative; width:100%; aspect-ratio: 16/10; background:#f0f2f9; border-top:1px solid var(--border); }
    .iframe-wrap iframe { position:absolute; inset:0; width:100%; height:100%; border:0; }
    footer { border-top:1px solid var(--border); color: var(--muted); }
    footer .wrap { padding: 1.25rem; font-size:.95rem; display:flex; justify-content:space-between; gap:.75rem; flex-wrap:wrap; }
    /* Dark mode vars */
    body.dark { --bg: #0f1115; --fg: #e8eaed; --muted:#a7b0c0; --card:#171a21; --brand:#7aa2f7; --border:#222733; }
    body.dark .hero { background: linear-gradient(180deg, rgba(122,162,247,.12), transparent 45%); }
    .controls { display:flex; gap:.5rem; align-items:center; }

    /* Alphabetic frame styles */
    .alpha-card { border:1px solid var(--border); background: var(--card); border-radius:1rem; overflow:hidden; }
    .alpha-head { padding: 1rem; border-bottom:1px solid var(--border); display:flex; align-items:center; justify-content:space-between; gap:.75rem; flex-wrap:wrap; }
    .alpha-desc { color: var(--muted); margin:.2rem 0 0 0; }
    .letterbar { display:flex; flex-wrap:wrap; gap:.25rem; }
    .letter { border:1px solid var(--border); background:#fff; padding:.35rem .55rem; border-radius:.55rem; cursor:pointer; font-family:inherit; }
    .letter[aria-selected="true"] { background:#eef2ff; border-color:#dbeafe; }
    .alpha-frame { min-height: 240px; padding: 1rem; }
    .alpha-frame .muted { color: var(--muted); }
    .alpha-frame ul { margin:.25rem 0 .25rem 1.2rem; }
  </style>
</head>
<body>
  <header>
    <div class="wrap">
      <nav>
        <div class="brand">Erling’s Music Collections</div>
        <div class="navlinks" role="navigation" aria-label="Primary">
          <a href="#about" data-i18n="nav_about">About</a>
          <a href="#collections" data-i18n="nav_collections">Collections</a>
          <a href="#alphabetic" data-i18n="nav_alpha">Alphabetic</a>
          <a href="#notes" data-i18n="nav_notes">Notes</a>
        </div>
        <div class="controls">
          <button class="btn" id="langToggle" aria-pressed="false" aria-label="Toggle language" data-i18n="btn_lang_to_no">Norsk</button>
          <button class="btn" id="modeToggle" aria-pressed="false" aria-label="Toggle color mode" data-i18n="btn_mode_dark">Dark</button>
        </div>
      </nav>
    </div>
  </header>

  <section class="hero">
    <div class="wrap">
      <h1 id="hero-title" data-i18n="hero_title">Old scores: classic and popular music</h1>
      <p class="sub" id="hero-sub" data-i18n="hero_sub">
        A hub for my spreadsheet-based catalogs (classical and popular Scandinavian music) with short explanations and live embeds.
      </p>
      <a class="cta" href="#collections" data-i18n="cta_jump">Jump to Collections ↓</a>
    </div>
  </section>

  <main class="wrap">
    <section id="about" class="section">
      <h2 data-i18n="about_title">About</h2>
      <p data-i18n="about_p">
        Below you’ll find three published Google Sheets embedded directly on the page. Each card includes an <em>Open in a new tab</em> link if you prefer a full-screen view.
      </p>
    </section>

    <section id="collections" class="section">
      <h2 data-i18n="collections_title">Collections</h2>
      <div class="grid">
        <!-- Collection 1 -->
        <article class="card">
          <header class="wrap">
            <h2 data-i18n="c1_title">Old classical music</h2>
            <p data-i18n="c1_desc">
              Transcriptions of (mostly) my score-collection of known and unknown composers. 
              Primarily music not easily available elsewhere and to a large extent by Norwegian musicians.
            </p>
            <p><a target="_blank" rel="noopener" href="https://docs.google.com/spreadsheets/d/e/2PACX-1vSIWxwL1QqxwLOzDv_AIzXEwZ5-9v1G51cX2rWsnESZYBEtKaNr0ih_6YEHvkyILK_5ug8oycWz21aK/pubhtml" data-i18n="open_new_tab">Open in a new tab ↗</a></p>
          </header>
          <div class="iframe-wrap">
            <iframe title="Old classical music spreadsheet" id="c1_iframe"
                    src="https://docs.google.com/spreadsheets/d/e/2PACX-1vSIWxwL1QqxwLOzDv_AIzXEwZ5-9v1G51cX2rWsnESZYBEtKaNr0ih_6YEHvkyILK_5ug8oycWz21aK/pubhtml"></iframe>
          </div>
        </article>

        <!-- Collection 2 -->
        <article class="card">
          <header class="wrap">
            <h2 data-i18n="c2_title">Old popular music</h2>
            <p data-i18n="c2_desc">
              Popular songs mostly from Norway and Sweden.  
              You have to be a member of the popular-music group to see them, due to most being in the “copyright”
              zone.
            </p>
            <p><a target="_blank" rel="noopener" href="https://docs.google.com/spreadsheets/d/e/2PACX-1vQqvBBaiFtSKobHuIllQA55CD5O5LIJR1JU_Cr-Z5X3AgpqnuhttVDA7GM0ms2nG8BgWF1ApYrZc-cw/pubhtml" data-i18n="open_new_tab">Open in a new tab ↗</a></p>
          </header>
          <div class="iframe-wrap">
            <iframe title="Old popular music spreadsheet" id="c2_iframe"
                    src="https://docs.google.com/spreadsheets/d/e/2PACX-1vQqvBBaiFtSKobHuIllQA55CD5O5LIJR1JU_Cr-Z5X3AgpqnuhttVDA7GM0ms2nG8BgWF1ApYrZc-cw/pubhtml"></iframe>
          </div>
        </article>

        <!-- Collection 3 -->
        <article class="card">
          <header class="wrap">
            <h2 data-i18n="c3_title">Norges Melodier I–IV</h2>
            <p data-i18n="c3_desc">
              500 songs from Grieg’s and Alnæs’ four books of old Norwegian music.  
              To see all, be a member of the group “Norges Melodier”.
            </p>
            <p><a target="_blank" rel="noopener" href="https://docs.google.com/spreadsheets/d/e/2PACX-1vRuhQrhQ68I16YdsYa1PcPepXNT_qAAeXaC3znelNccKBmLulUlu3JEBGFgd0h3zXbmCVxlR863pZpV/pubhtml" data-i18n="open_new_tab">Open in a new tab ↗</a></p>
          </header>
          <div class="iframe-wrap">
            <iframe title="Norges Melodier I–IV spreadsheet" id="c3_iframe"
                    src="https://docs.google.com/spreadsheets/d/e/2PACX-1vRuhQrhQ68I16YdsYa1PcPepXNT_qAAeXaC3znelNccKBmLulUlu3JEBGFgd0h3zXbmCVxlR863pZpV/pubhtml"></iframe>
          </div>
        </article>
      </div>
    </section>

    <!-- Alphabetic frame A–Å -->
    <section id="alphabetic" class="section">
      <h2 data-i18n="alpha_title">Alphabetic A–Å</h2>
      <div class="alpha-card">
        <div class="alpha-head">
          <div>
            <strong data-i18n="alpha_head">Select a letter to view content</strong>
            <div class="alpha-desc" data-i18n="alpha_desc">This frame can display your own HTML snippet for each letter. "A" is filled with Anna Alm as an example.</div>
          </div>
          <div class="letterbar" role="tablist" aria-label="Letters">
            <button class="letter" role="tab" aria-selected="true" data-letter="A">A</button>
            <button class="letter" role="tab" aria-selected="false" data-letter="B">B</button>
            <button class="letter" role="tab" aria-selected="false" data-letter="C">C</button>
            <button class="letter" role="tab" aria-selected="false" data-letter="D">D</button>
            <button class="letter" role="tab" aria-selected="false" data-letter="E">E</button>
            <button class="letter" role="tab" aria-selected="false" data-letter="F">F</button>
            <button class="letter" role="tab" aria-selected="false" data-letter="G">G</button>
            <button class="letter" role="tab" aria-selected="false" data-letter="H">H</button>
            <button class="letter" role="tab" aria-selected="false" data-letter="I">I</button>
            <button class="letter" role="tab" aria-selected="false" data-letter="J">J</button>
            <button class="letter" role="tab" aria-selected="false" data-letter="K">K</button>
            <button class="letter" role="tab" aria-selected="false" data-letter="L">L</button>
            <button class="letter" role="tab" aria-selected="false" data-letter="M">M</button>
            <button class="letter" role="tab" aria-selected="false" data-letter="N">N</button>
            <button class="letter" role="tab" aria-selected="false" data-letter="O">O</button>
            <button class="letter" role="tab" aria-selected="false" data-letter="P">P</button>
            <button class="letter" role="tab" aria-selected="false" data-letter="Q">Q</button>
            <button class="letter" role="tab" aria-selected="false" data-letter="R">R</button>
            <button class="letter" role="tab" aria-selected="false" data-letter="S">S</button>
            <button class="letter" role="tab" aria-selected="false" data-letter="T">T</button>
            <button class="letter" role="tab" aria-selected="false" data-letter="U">U</button>
            <button class="letter" role="tab" aria-selected="false" data-letter="V">V</button>
            <button class="letter" role="tab" aria-selected="false" data-letter="W">W</button>
            <button class="letter" role="tab" aria-selected="false" data-letter="X">X</button>
            <button class="letter" role="tab" aria-selected="false" data-letter="Y">Y</button>
            <button class="letter" role="tab" aria-selected="false" data-letter="Z">Z</button>
            <button class="letter" role="tab" aria-selected="false" data-letter="Æ">Æ</button>
            <button class="letter" role="tab" aria-selected="false" data-letter="Ø">Ø</button>
            <button class="letter" role="tab" aria-selected="false" data-letter="Å">Å</button>
          </div>
        </div>
        <div class="alpha-frame" id="alpha-frame" role="tabpanel" aria-live="polite">
          <!-- Content injected by JS -->
        </div>
      </div>
    </section>

    <section id="notes" class="section">
      <h2 data-i18n="notes_title">Notes</h2>
      <div class="card">
        <div class="body">
          <p data-i18n="notes_p">
            You can put research updates here — e.g., corrected attributions, publication trails, or links to IMSLP/MuseScore entries.
          </p>
        </div>
      </div>
    </section>
  </main>

  <footer>
    <div class="wrap">
      <span>© <span id="year"></span> Erling</span>
      <span>
        <a href="#about" data-i18n="nav_about">About</a> ·
        <a href="#collections" data-i18n="nav_collections">Collections</a> ·
        <a href="#alphabetic" data-i18n="nav_alpha">Alphabetic</a> ·
        <a href="#notes" data-i18n="nav_notes">Notes</a>
      </span>
    </div>
  </footer>

  <script>
    // Cache important elements
    const modeBtn = document.getElementById('modeToggle');
    const langBtn = document.getElementById('langToggle');

    // ---- Translations
    const translations = {
      en: {
        doc_title: "Erling’s Music Collections",
        nav_about: "About",
        nav_collections: "Collections",
        nav_alpha: "Alphabetic",
        nav_notes: "Notes",
        btn_lang_to_no: "Norsk",
        btn_lang_to_en: "English",
        btn_mode_dark: "Dark",
        btn_mode_light: "Light",
        hero_title: "Old scores: classic and popular music",
        hero_sub: "A hub for my spreadsheet-based catalogs (classical and popular Scandinavian music) with short explanations and live embeds.",
        cta_jump: "Jump to Collections ↓",
        about_title: "About",
        about_p: "Below you’ll find three published Google Sheets embedded directly on the page. Each card includes an <em>Open in a new tab</em> link if you prefer a full-screen view.",
        collections_title: "Collections",
        c1_title: "Old classical music",
        c1_desc: "Transcriptions of (mostly) my score-collection of known and unknown composers. Primarily music not easily available elsewhere and to a large extent by Norwegian musicians.",
        c2_title: "Old popular music",
        c2_desc: "Popular songs mostly from Norway and Sweden. You have to be a member of the popular-music group to see them, due to most being in the “copyright” zone.",
        c3_title: "Norges Melodier I–IV",
        c3_desc: "500 songs from Grieg’s and Alnæs’ four books of old Norwegian music. To see all, be a member of the group “Norges Melodier”.",
        open_new_tab: "Open in a new tab ↗",
        notes_title: "Notes",
        notes_p: "You can put research updates here — e.g., corrected attributions, publication trails, or links to IMSLP/MuseScore entries.",
        alpha_title: "Alphabetic A–Å",
        alpha_head: "Select a letter to view content",
        alpha_desc: "This frame can display your own HTML snippet for each letter. \"A\" is filled with Anna Alm as an example."
      },
      no: {
        doc_title: "Erlings musikksamlinger",
        nav_about: "Om",
        nav_collections: "Samlinger",
        nav_alpha: "Alfabetisk",
        nav_notes: "Notater",
        btn_lang_to_no: "Norsk",
        btn_lang_to_en: "English",
        btn_mode_dark: "Mørk",
        btn_mode_light: "Lys",
        hero_title: "Gamle noter: klassisk og populærmusikk",
        hero_sub: "En samling av mine regnearkbaserte kataloger (klassisk og populær skandinavisk musikk) med korte forklaringer og innebygde visninger.",
        cta_jump: "Gå til samlingene ↓",
        about_title: "Om",
        about_p: "Nedenfor finner du tre publiserte Google-regneark som er innebygd på siden. Hver kortseksjon har også lenken <em>Åpne i ny fane</em> for fullskjermsvisning.",
        collections_title: "Samlinger",
        c1_title: "Gamle klassiske noter",
        c1_desc: "Transkripsjoner av (hovedsakelig) min notesamling av kjente og ukjente komponister. Primært musikk som ikke er lett tilgjengelig andre steder og i stor grad av norske musikere.",
        c2_title: "Gammel populærmusikk",
        c2_desc: "Populære sanger, mest fra Norge og Sverige. Du må være medlem av gruppen for populærmusikk for å se dem, siden de fleste ligger i «opphavsrett»-sonen.",
        c3_title: "Norges Melodier I–IV",
        c3_desc: "500 sanger fra Griegs og Alnæs’ fire bøker med gammel norsk musikk. For å se alle, bli medlem av gruppen «Norges Melodier».",
        open_new_tab: "Åpne i ny fane ↗",
        notes_title: "Notater",
        notes_p: "Her kan du legge inn forskningsoppdateringer — f.eks. korrigerte attribusjoner, utgivelsesspor eller lenker til IMSLP/MuseScore.",
        alpha_title: "Alfabetisk A–Å",
        alpha_head: "Velg en bokstav for å vise innhold",
        alpha_desc: "Denne rammen kan vise din egen HTML-kode per bokstav. «A» er fylt med Anna Alm som eksempel."
      }
    };

    // Helpers
    function getDefaultLang() { return ((navigator.language || '').toLowerCase().startsWith('no')) ? 'no' : 'en'; }
    function getLang() { const stored = localStorage.getItem('lang'); return stored ? stored : getDefaultLang(); }

    function applyI18n(lang) {
      const dict = translations[lang] || translations.en;
      document.documentElement.lang = (lang === 'no') ? 'no' : 'en';
      document.querySelectorAll('[data-i18n]').forEach(el => {
        const key = el.getAttribute('data-i18n');
        const html = (dict[key] || translations.en[key] || '');
        if (html) el.innerHTML = html;
      });
      document.getElementById('c1_iframe').title = lang === 'no' ? 'Regneark: Gamle klassiske noter' : 'Old classical music spreadsheet';
      document.getElementById('c2_iframe').title = lang === 'no' ? 'Regneark: Gammel populærmusikk' : 'Old popular music spreadsheet';
      document.getElementById('c3_iframe').title = lang === 'no' ? 'Regneark: Norges Melodier I–IV' : 'Norges Melodier I–IV spreadsheet';
      langBtn.textContent = (lang === 'en') ? translations.en.btn_lang_to_no : translations.no.btn_lang_to_en;
      modeBtn.textContent = document.body.classList.contains('dark') ? dict.btn_mode_light : dict.btn_mode_dark;
      document.title = dict.doc_title;
    }

    // ---- Dark/Light mode
    const savedMode = localStorage.getItem('mode');
    if (savedMode === 'dark') { document.body.classList.add('dark'); }
    document.getElementById('year').textContent = new Date().getFullYear();
    modeBtn.addEventListener('click', () => {
      const isDark = document.body.classList.toggle('dark');
      localStorage.setItem('mode', isDark ? 'dark' : 'light');
      const lang = getLang(); const dict = translations[lang] || translations.en;
      modeBtn.textContent = isDark ? dict.btn_mode_light : dict.btn_mode_dark;
    });

    // ---- Language toggle
    let currentLang = getLang();
    localStorage.setItem('lang', currentLang);
    applyI18n(currentLang);
    langBtn.addEventListener('click', () => {
      currentLang = (currentLang === 'en') ? 'no' : 'en';
      localStorage.setItem('lang', currentLang);
      applyI18n(currentLang);
    });

    // ---- Alphabetic frame logic
    const alphaFrame = document.getElementById('alpha-frame');

    const ALPHA_HTML = {
      "A": `<div>
              <h3>Anna Alm <span style="font-weight:normal;color:#666;">(1880–1935)</span></h3>
              <p class="muted">Norwegian composer. Example entries below combine title + score link, and credit lyricists with years.</p>
              <ul>
                <li>
                  <strong><a href="https://musescore.com/user/26911315/scores/20965716" target="_blank" rel="noopener">Bygden min</a></strong>
                  <span class="muted">(1930)</span><br/>
                  Lyricist: <a href="https://psykologisk.no/2021/11/klara-klok-var-innom-psykologisk.no/" target="_blank" rel="noopener">Ingrid Arnulf</a>
                  <span class="muted">(1894–1978)</span><br/>
                  <span class="muted">Source: Nationen 1930</span>
                </li>
                <li style="margin-top:.5rem;">
                  <strong><a href="https://musescore.com/user/26911315/scores/5957173" target="_blank" rel="noopener">Salme</a></strong><br/>
                  Lyricist: <a href="https://no.wikipedia.org/wiki/Anders_Hovden" target="_blank" rel="noopener">Anders Hovden</a>
                  <span class="muted">(1860–1943)</span>
                </li>
              </ul>
            </div>`
      // Add more letters as needed: "B": "<div>...</div>", ...
    };

    function setLetter(letter) {
      const html = ALPHA_HTML[letter] || `<p class="muted">No content for <strong>${letter}</strong> yet. Paste HTML into <code>ALPHA_HTML['${letter}']</code>.</p>`;
      alphaFrame.innerHTML = html;
      document.querySelectorAll('.letterbar .letter').forEach(btn => {
        btn.setAttribute('aria-selected', btn.dataset.letter === letter ? 'true' : 'false');
      });
    }

    // Init letter bar
    document.querySelectorAll('.letterbar .letter').forEach(btn => {
      btn.addEventListener('click', () => setLetter(btn.dataset.letter));
    });
    // default to A
    setLetter("A");
  </script>
</body>
</html>
